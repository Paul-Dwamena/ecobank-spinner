(this["webpackJsonpspinning-wheel-game"]=this["webpackJsonpspinning-wheel-game"]||[]).push([[0],{104:function(e,t,a){},127:function(e,t,a){"use strict";(function(e){var n=a(22),r=a.n(n),l=a(40),o=a(26),c=a(0),s=a.n(c),m=a(128),i=(a(104),a(44)),u=a.n(i),p=a(45),d=a(10);t.a=()=>{const t=Object(p.b)(),a=(t.activeproducts,t.user),n=a.PromoterId,i=a.ShopId,h=Object(c.useState)([]),b=Object(o.a)(h,2),E=b[0],g=b[1],f=Object(c.useState)([]),v=Object(o.a)(f,2),w=v[0],N=v[1],y=Object(d.f)();return Object(c.useEffect)(()=>{(function(){var t=Object(l.a)(r.a.mark((function t(){var a,l,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,"username","password",a=e.from("".concat("username",":").concat("password"),"utf8").toString("base64"),"https://ecobank.agyeikumi.com/ecobank-php-api/customer/getAllActivePremiums",l={promoterId:n},t.next=8,u.a.post("https://ecobank.agyeikumi.com/ecobank-php-api/customer/getAllActivePremiums",l,{headers:{Authorization:"Basic ".concat(a)}});case 8:100===(o=t.sent).data.statusCode?console.log(o.data.message):200===o.data.statusCode&&(g(o.data.response.getAllActivePremiums),N(o.data.response.getAllWonPremiums||[])),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0.response.data);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}})()()},[]),s.a.createElement("div",{className:"App"},s.a.createElement(m.a,{items:E,won:w,shopid:i,promoterid:n,history:y}))}}).call(this,a(79).Buffer)},128:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return d}));var n=a(22),r=a.n(n),l=a(40),o=a(0),c=a.n(o),s=(a(166),a(44)),m=a.n(s),i=a(78),u=a(67),p=a.n(u);class d extends c.a.Component{constructor(t){var a;super(t),a=this,this.onChange=e=>this.setState({[e.target.name]:e.target.value}),this.output=()=>{this.setState({showform:!0,modalIsOpen:!0})},this.onSubmit=function(){var t=Object(l.a)(r.a.mark((function t(n){var l,o,c,s,i,u,p,d,h;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a.setState({loading:!0}),t.prev=2,"username","password",l=e.from("".concat("username",":").concat("password"),"utf8").toString("base64"),o=a.state,c=o.fname,s=o.lname,i=o.phone,u=o.prize,p=o.location,o.gender,"https://ecobank.agyeikumi.com/ecobank-php-api/customer/redeemPremium",d={fullname:c+" "+s,phoneNumber:i,premiumId:u.PremiumId,location:p,shopId:a.props.shopid,promoterId:a.props.promoterid},t.next=11,m.a.post("https://ecobank.agyeikumi.com/ecobank-php-api/customer/redeemPremium",d,{headers:{Authorization:"Basic ".concat(l)}});case 11:h=t.sent,console.log(h.data),200===h.data.statusCode&&(a.setState({loading:!1}),a.props.history.push("/success/".concat(u.PremiumName))),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(2),console.log(t.t0),a.setState({loading:!1});case 20:case"end":return t.stop()}}),t,null,[[2,16]])})));return function(e){return t.apply(this,arguments)}}(),this.handleClose=()=>{this.setState({modalIsOpen:!1})},this.modal=()=>{const e=this.state,t=e.fname,a=e.lname,n=e.phone,r=e.location,l=e.modalIsOpen,o=e.gender;return c.a.createElement(i.a,{show:l,style:{width:"98%"}},c.a.createElement("form",{onSubmit:this.onSubmit,className:""},c.a.createElement(i.a.Header,null,c.a.createElement("h5",{className:"modal-title",id:"addOwnerModalText",style:{color:"black"}},"Congratulations on winning your"," ",c.a.createElement("b",{style:{color:"red",fontWeight:"bold"}},this.state.prize.PremiumName),". fill the form below to claim your prize")),c.a.createElement(i.a.Body,null,c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-4 col-sm-4 col-xs-4"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"inputOne",className:"col-form-label"},"First Name:"),c.a.createElement("input",{id:"inputOne",value:t,onChange:this.onChange,name:"fname",type:"text",required:!0,className:"form-control"}))),c.a.createElement("div",{className:"col-md-4 col-sm-4 col-xs-4"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"inputOne",className:"col-form-label"},"Last Name:"),c.a.createElement("input",{id:"inputOne",value:a,onChange:this.onChange,name:"lname",required:!0,type:"text",className:"form-control"}))),c.a.createElement("div",{className:"col-md-4 col-sm-4 col-xs-4"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"inputTwo",className:"col-form-label"},"Phone Number"),c.a.createElement("input",{id:"inputTwo",value:n,onChange:this.onChange,name:"phone",required:!0,type:"number",className:"form-control"})))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"inputFour",className:"col-form-label"},"Location:"),c.a.createElement("input",{id:"inputFour",value:r,onChange:this.onChange,name:"location",required:!0,type:"text",className:"form-control"}))),c.a.createElement("div",{className:"col"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"inputFour",className:"col-form-label"},"Gender"),c.a.createElement("select",{value:o,onChange:this.onChange,name:"gender",required:!0,className:"form-control"},c.a.createElement("option",{value:""},"---Select gender---"),c.a.createElement("option",{value:"male"},"Male"),c.a.createElement("option",{value:"female"},"Female"))))),c.a.createElement("div",{className:"row"}))),c.a.createElement(i.a.Footer,null,c.a.createElement("button",{id:"performSendAction",type:"submit",className:"btn btn-primary"},this.state.loading?c.a.createElement("span",null,"loading"):c.a.createElement("span",null," Submit Claim")))))},this.state={selectedItem:null,showform:!1,lname:"",fname:"",phone:"",shopid:this.props.shopid,promoterId:this.props.promoterid,location:"",prize:"",loading:!1,modalIsOpen:!1,gender:""},this.selectItem=this.selectItem.bind(this)}selectItem(){var e=this;return Object(l.a)(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.props.items.length>0)){t.next=14;break}if(null!==e.state.selectedItem){t.next=10;break}if(a=Math.floor(Math.random()*e.props.items.length),!e.props.onSelectItem){t.next=6;break}return t.next=6,e.props.onSelectItem(a);case 6:e.setState({selectedItem:a,prize:e.props.items[a]}),setTimeout(e.output,4e3),t.next=12;break;case 10:e.setState({selectedItem:null}),setTimeout(e.selectItem,500);case 12:t.next=15;break;case 14:alert("there is no prize to be won");case 15:case"end":return t.stop()}}),t)})))()}render(){const e=this.state.selectedItem,t=this.props.items,a={"--nb-item":t.length,"--selected-item":e},n=null!==e?"spinning":"";return c.a.createElement("div",{style:{height:"100vh"}},c.a.createElement("img",{className:"Header-logo",src:p.a,width:"60px",style:{position:"absolute",top:0,right:0,marginRight:"20px",marginTop:"10px"},alt:"Logo"}),0!==t.length?c.a.createElement("div",{className:"container",style:{margin:"auto",width:"100%",marginTop:"100px"}},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-12 text-center"},c.a.createElement("h5",{className:"",style:{color:"#3f51b5",fontWeight:"bold"}},"WIN YOUR PRIZE HERE"))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"wheel-container"},c.a.createElement("div",{className:"wheel ".concat(n),style:a,onClick:this.selectItem},t.map((e,t)=>c.a.createElement("div",{className:"wheel-item",key:t,style:{"--item-nb":t}},e.PremiumName))))),c.a.createElement("div",{className:"row"},this.modal()),c.a.createElement("div",{className:"row mb-4 "},c.a.createElement("div",{className:"col-12 text-center"},c.a.createElement("h3",{style:{color:"white"}}," Prizes won"),c.a.createElement("div",{className:"card"},c.a.createElement("table",{className:"table"},c.a.createElement("thead",null,c.a.createElement("tr",{style:{backgroundColor:"#3f51b5"}},c.a.createElement("th",{style:{color:"white"}},"#"),c.a.createElement("th",{style:{color:"white"}},"Prize"))),c.a.createElement("tbody",null,this.props.won.map((e,t)=>c.a.createElement("tr",null,c.a.createElement("td",null,t+1),c.a.createElement("td",null,e.PremiumName))))))))):c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-12 text-center"},c.a.createElement("h1",{className:"",style:{color:"purple",marginTop:"100px"}},"All items for this outlet have been won already"))),c.a.createElement("div",{className:"row mb-4 "},c.a.createElement("div",{className:"col-12 text-center"},c.a.createElement("h3",{style:{color:"purple"}}," Prizes won"),c.a.createElement("div",{className:"card"},c.a.createElement("table",{className:"table"},c.a.createElement("thead",null,c.a.createElement("tr",{style:{backgroundColor:"#3f51b5"}},c.a.createElement("th",null,"#"),c.a.createElement("th",null,"Prize"))),c.a.createElement("tbody",null,this.props.won.map((e,t)=>c.a.createElement("tr",null,c.a.createElement("td",null,t+1),c.a.createElement("td",null,e.name))))))))))}}}).call(this,a(79).Buffer)},133:function(e,t,a){e.exports=a.p+"static/media/79952-successful.60de8662.gif"},134:function(e,t,a){"use strict";(function(e){var n=a(22),r=a.n(n),l=a(32),o=a(40),c=a(26),s=a(0),m=a.n(s),i=a(92),u=a(147),p=a(140),d=a(10),h=a(67),b=a.n(h),E=a(44),g=a.n(E),f=a(288),v=a(93),w=a(290),N=a(291),y=a(293),x=a(295),k=a(292),S=a(45);const O=Object(f.a)(e=>({root:{backgroundColor:"white",height:"100vh"},center:{margin:"auto",width:"40%",padding:10}}));t.a=()=>{const t=O(),a=Object(s.useState)(!1),n=Object(c.a)(a,2),h=n[0],E=n[1],f=Object(S.b)().dispatch,C=Object(s.useState)(""),I=Object(c.a)(C,2),j=I[0],P=I[1],T=Object(d.f)();return m.a.createElement(p.a,{className:t.root},m.a.createElement(v.a,{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},m.a.createElement(w.a,{maxWidth:"sm"},m.a.createElement("div",{className:t.center}," ",m.a.createElement("img",{className:"Header-logo",src:b.a,width:"100px",alt:"Logo"})," "),m.a.createElement(u.a,{initialValues:{pinnumber:""},validationSchema:i.a().shape({pinnumber:i.b().required("Pin number is required")}),onSubmit:function(){var t=Object(o.a)(r.a.mark((function t(a){var n,o,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return P(""),E(!0),t.prev=2,"username","password",n=e.from("".concat("username",":").concat("password"),"utf8").toString("base64"),"https://ecobank.agyeikumi.com/ecobank-php-api/customer/login",o={promoterId:a.pinnumber},t.next=10,g.a.post("https://ecobank.agyeikumi.com/ecobank-php-api/customer/login",o,{headers:{Authorization:"Basic ".concat(n)}});case 10:100===(c=t.sent).data.statusCode?P(c.data.message):200===c.data.statusCode&&(f({type:"SETID",payload:a.pinnumber}),f({type:"SETUSER",payload:Object(l.a)({},c.data.response[0])}),T.push("/wheel")),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(2),console.log(t.t0.response.data),P("Email or password not correct"),E(!1);case 19:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e){return t.apply(this,arguments)}}()},({errors:e,handleBlur:t,handleChange:a,handleSubmit:n,isSubmitting:r,touched:l,values:o})=>m.a.createElement("form",{onSubmit:n},j?m.a.createElement(v.a,{mt:3,mb:1,p:2,bgcolor:"error.main"},m.a.createElement(N.a,{align:"center",variant:"body1",style:{color:"white"}},j)):null,m.a.createElement(y.a,{type:"number",error:Boolean(l.pinnumber&&e.pinnumber),fullWidth:"true",helperText:l.pinnumber&&e.pinnumber,label:"Enter your pin",margin:"normal",name:"pinnumber",onBlur:t,onChange:a,value:o.pinnumber,variant:"outlined"}),m.a.createElement(v.a,{my:2},m.a.createElement(x.a,{color:"primary",disabled:r,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Send ",h?m.a.createElement(k.a,null):null)))))))}}).call(this,a(79).Buffer)},140:function(e,t,a){"use strict";var n=a(148),r=a(0),l=a.n(r),o=a(141);const c=Object(r.forwardRef)((e,t)=>{let a=e.children,r=e.title,c=void 0===r?"":r,s=Object(n.a)(e,["children","title"]);return l.a.createElement("div",Object.assign({ref:t},s),l.a.createElement(o.a,null,l.a.createElement("title",null,c)),a)});t.a=c},157:function(e,t,a){e.exports=a(287)},166:function(e,t,a){},287:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),o=a.n(l),c=a(127),s=a(43),m=a(133),i=a.n(m);class u extends n.Component{render(){return r.a.createElement("div",{className:""},r.a.createElement("nav",{className:"navbar navbar-expand-sm bg-light"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-link"},r.a.createElement(s.b,{to:"/wheel"},r.a.createElement("i",{className:"fa fa-home"})," ",r.a.createElement("span",{style:{display:"block",backgroundColor:"#3f51b5",padding:10,color:"white",borderRadius:5}},"Home"))))),r.a.createElement("h3",{style:{color:"purple",textAlign:"center",marginTop:"140px"}},"Congratulations You have won a"," ",r.a.createElement("b",{style:{color:"#3f51b5",fontWeight:"bolder",fontSize:"40px"}}," ",this.props.match.params.item)," "),r.a.createElement("div",{style:{margin:"auto",width:"80%"}},r.a.createElement("img",{src:i.a,alt:"pic",width:"300px"})))}}var p=a(45),d=a(10),h=a(134);a(104);class b extends r.a.Component{render(){return r.a.createElement(p.a,null,r.a.createElement(s.a,null,r.a.createElement("div",{className:"container"},r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/",component:h.a}),r.a.createElement(d.a,{exact:!0,path:"/wheel/",component:c.a}),r.a.createElement(d.a,{exact:!0,path:"/success/:item",component:u})))))}}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})},45:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return s}));var n=a(32),r=a(0),l=a.n(r);const o=l.a.createContext();class c extends r.Component{constructor(...e){super(...e),this.reducer=(e,t)=>{switch(t.type){case"SETACTIVE":return Object(n.a)(Object(n.a)({},e),{},{activeproducts:t.payload});case"SETID":return Object(n.a)(Object(n.a)({},e),{},{promoterid:t.payload});case"SETUSER":return Object(n.a)(Object(n.a)({},e),{},{user:t.payload});default:return e}},this.state={user:null,error:"",shopid:"",promoterid:"",isLoggedIn:!1,wonproducts:[],activeproducts:null,dispatch:e=>{this.setState(t=>this.reducer(t,e))}}}render(){return l.a.createElement(o.Provider,{value:this.state},this.props.children)}}const s=()=>Object(r.useContext)(o)},67:function(e,t,a){e.exports=a.p+"static/media/ecobank.16ceb09f.png"}},[[157,1,2]]]);
//# sourceMappingURL=main.b3861449.chunk.js.map